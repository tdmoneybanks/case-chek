{"version":3,"sources":["app.js","list-container-component.js"],"names":["caseChekApp","angular","module","gooleApiKey","service","$http","getData","options","params","method","url","searchText","page","headers","location","controller","AppController","$scope","chicagoDataService","data","hasMore","search","then","response","$watch","length","ListController","googleStreetViewService","$parent","onPageOne","handleClick","$","modal","locationData","address","addressUri","encodeURIComponent","component","template","GreetUserController","user"],"mappings":"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","file":"bundle.js","sourcesContent":["'use strict';\n\nvar caseChekApp = angular.module('caseChekApp', []);\n\nconst gooleApiKey = 'AIzaSyA5IGNDHog2WvQgwH0Qj-YlPbA_FS_q52k';\n\ncaseChekApp.service('chicagoDataService', function($http) {\n    this.getData = function(options) {\n        const params = options || {};\n        return $http({\n            method: 'GET',\n            url: '/chicago-data',\n            params: {\n                'searchQuery': params.searchText || '',\n                'page': params.page || '1'\n            },\n            headers: {}\n        });\n    }\n});\n\ncaseChekApp.service('googleStreetViewService', function($http) {\n    this.getData = function(location) {\n        return $http({\n            method: 'GET',\n            url: `https://maps.googleapis.com/maps/api/streetview?size=400x400&location=${location}&fov=90&heading=235&pitch=10&key=${gooleApiKey}`,\n            params: '',\n            headers: {}\n        });\n    }\n})\n\ncaseChekApp.controller('AppController', ['$scope', 'chicagoDataService', function AppController($scope, chicagoDataService) {\n    $scope.searchText = '';\n    $scope.data = [];\n    $scope.page = 1;\n    $scope.hasMore = true;\n\n\n    $scope.search = function() {\n        $scope.page = 1;\n        $scope.hasMore = true;\n        chicagoDataService.getData({searchText: $scope.searchText, page: 1}).then((response) => {\n            $scope.data = response.data;\n        });\n    }\n\n    $scope.$watch('page', function() {\n        chicagoDataService.getData({searchText: $scope.searchText, page: $scope.page}).then((response) => {\n            $scope.data = response.data;\n            $scope.hasMore = response.data.length < 15 ? false : true;\n        });\n    });\n}]);\n\ncaseChekApp.controller('ListController',['$scope', 'chicagoDataService', 'googleStreetViewService', function ListController($scope, chicagoDataService, googleStreetViewService) {\n    chicagoDataService.getData({searchText: $scope.searchText, page: $scope.page}).then((response) => {\n        $scope.$parent.data = response.data;\n    });\n    $scope.onPageOne = function() {\n        return $scope.page === 1;\n    }\n\n    $scope.handleClick = function(data) {\n        $('.modal').modal('show');\n    }\n    $scope.url = function(data) {\n        if (data.locationData.address) {\n            const addressUri = encodeURIComponent(data.locationData.address);\n            return `https://maps.googleapis.com/maps/api/streetview?size=300x200&location=${addressUri}&fov=90&heading=235&pitch=10&key=${gooleApiKey}`;\n        }\n    };\n}]);","angular.\nmodule('caseChekApp').\ncomponent('listContainer', {\n    template: 'Hello, {{$ctrl.user}}!',\n    controller: function GreetUserController() {\n        this.user = 'world';\n    }\n});"]}